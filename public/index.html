<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serpents et √âchelles</title>
    <link rel="icon" type="image/jpeg" href="back.jpg">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üêç Serpents et √âchelles ü™ú</h1>
            <h2 class="subtitle">Ou comment gagner la libert√© de Melissa</h2>
            <div class="game-info">
                <div class="player-info" id="playerInfo">
                    <!-- Les joueurs seront g√©n√©r√©s dynamiquement -->
                </div>
                <div class="dice-section">
                    <div class="dice" id="dice">üé≤</div>
                    <button id="rollDice" class="roll-btn">Lancer le d√©</button>
                    <div class="dice-result" id="diceResult"></div>
                </div>
            </div>
        </header>

        <main>
            <div class="game-board" id="gameBoard">
                <!-- Le plateau sera g√©n√©r√© par JavaScript -->
            </div>
        </main>

        <div class="game-controls">
            <button id="newGame" class="btn-secondary">Nouvelle partie</button>
            <button id="rules" class="btn-secondary">R√®gles</button>
            <button id="stats" class="btn-secondary">üìä Statistiques</button>
            <button id="autoMode" class="btn-warning">Mode Automatique</button>
        </div>

        <!-- Modal pour le mode automatique -->
        <div class="modal" id="autoModeModal">
            <div class="modal-content">
                <h2>ü§ñ Mode Automatique</h2>
                <p>Vous √™tes-vous s√ªr de vouloir activer le mode automatique ?</p>
                <div class="auto-mode-warning">
                    <p><strong>‚ö†Ô∏è Attention :</strong></p>
                    <ul>
                        <li>Le jeu se jouera tout seul</li>
                        <li>Les d√©s seront lanc√©s automatiquement</li>
                        <li>Vous ne pourrez plus contr√¥ler le jeu</li>
                        <li>La partie se terminera sans votre intervention</li>
                    </ul>
                </div>
                <p class="algorithm-note-blue">
                    N√©anmoins, vous remarquerez que votre exp√©rience de jeu n'en sera pas affect√©e du tout.
                    <br>
                    Devons-nous en conlure que ce n'est pas un jeu mais un algorithme ? 
                    <br>
                    (Oui, fin du d√©bat)
                </p>
                <div class="modal-buttons">
                    <button id="confirmAutoMode" class="btn-warning">Oui, activer</button>
                    <button id="cancelAutoMode" class="btn-secondary">Annuler</button>
                </div>
            </div>
        </div>

        <!-- Modal pour choisir le nombre de joueurs -->
        <div class="modal" id="playerSetupModal">
            <div class="modal-content">
                <h2>üéØ Configuration de la partie</h2>
                <p>Choisissez le nombre de joueurs :</p>
                <div class="player-count-selector">
                    <button class="player-count-btn" data-count="1">1 Joueur</button>
                    <button class="player-count-btn" data-count="2">2 Joueurs</button>
                    <button class="player-count-btn" data-count="3">3 Joueurs</button>
                    <button class="player-count-btn" data-count="4">4 Joueurs</button>
                    <button class="player-count-btn" data-count="5">5 Joueurs</button>
                    <button class="player-count-btn" data-count="6">6 Joueurs</button>
                </div>
                <button id="startGame" class="btn-primary" disabled>Commencer la partie</button>
            </div>
        </div>

        <!-- Modal pour les r√®gles -->
        <div class="modal" id="rulesModal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>R√®gles du jeu</h2>
                <ul>
                    <li>Lancez le d√© √† tour de r√¥le</li>
                    <li>Avancez du nombre de cases indiqu√© par le d√©</li>
                    <li>Si vous tombez au pied d'une √©chelle, montez !</li>
                    <li>Si vous tombez sur la t√™te d'un serpent, descendez !</li>
                    <li>Le premier joueur √† atteindre la case 100 gagne !</li>
                </ul>
                
                <p class="algorithm-note">
                    Comment √ßa c'est pas un jeu mais un algorithme ? Oui...
                </p>
            </div>
        </div>

        <!-- Modal pour les statistiques -->
        <div class="modal" id="statsModal">
            <div class="modal-content">
                <h2>üìä Statistiques</h2>
                
                <!-- Onglets pour les statistiques -->
                <div class="stats-tabs">
                    <button class="stats-tab active" data-tab="current">Partie Actuelle</button>
                    <button class="stats-tab" data-tab="global">Statistiques Globales</button>
                </div>
                
                <!-- Contenu de la partie actuelle -->
                <div id="currentStatsContent" class="stats-tab-content active">
                    <div class="stats-section">
                        <h3>üéÆ Informations g√©n√©rales</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-label">Nombre de joueurs :</span>
                                <span class="stat-value" id="statPlayerCount">-</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Tours jou√©s :</span>
                                <span class="stat-value" id="statTotalTurns">-</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Dur√©e de partie :</span>
                                <span class="stat-value" id="statGameDuration">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="stats-section">
                        <h3>üé≤ Statistiques des d√©s</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-label">Total de lancers :</span>
                                <span class="stat-value" id="statTotalRolls">-</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Moyenne des d√©s :</span>
                                <span class="stat-value" id="statDiceAverage">-</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Plus haut score :</span>
                                <span class="stat-value" id="statHighestRoll">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="stats-section">
                        <h3>üêçü™ú √âv√®nements sp√©ciaux</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-label">Serpents rencontr√©s :</span>
                                <span class="stat-value" id="statSnakeHits">-</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">√âchelles utilis√©es :</span>
                                <span class="stat-value" id="statLadderHits">-</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Rebonds (>100) :</span>
                                <span class="stat-value" id="statBounces">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="stats-section">
                        <h3>üë• Classement des joueurs</h3>
                        <div id="playerRanking">
                            <!-- Classement dynamique -->
                        </div>
                    </div>
                </div>
                
                <!-- Contenu des statistiques globales -->
                <div id="globalStatsContent" class="stats-tab-content">
                    <!-- Indicateur de chargement -->
                    <div id="globalStatsLoading" class="stats-loading">
                        <div class="loading-spinner">‚è≥</div>
                        <p>Chargement des statistiques globales...</p>
                    </div>
                    
                    <!-- Contenu des stats (masqu√© pendant le chargement) -->
                    <div id="globalStatsData" style="display: none;">
                        <div class="stats-section">
                            <h3>üèÜ Statistiques Globales</h3>
                            <div class="stats-grid">
                                <div class="stat-item">
                                    <span class="stat-label">Nombre total de parties :</span>
                                    <span class="stat-value" id="globalTotalGames">-</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Plus courte partie (tours) :</span>
                                    <span class="stat-value" id="globalShortestGame">-</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Plus longue partie (tours) :</span>
                                    <span class="stat-value" id="globalLongestGame">-</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Dur√©e moyenne par partie :</span>
                                    <span class="stat-value" id="globalAverageGame">-</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Tours moyen par partie :</span>
                                    <span class="stat-value" id="globalAverageTurns">-</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Total de lancers de d√©s :</span>
                                    <span class="stat-value" id="globalTotalRolls">-</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stats-section">
                            <h3>üìà Records</h3>
                            <div class="stats-grid">
                                <div class="stat-item">
                                    <span class="stat-label">Plus de serpents en une partie :</span>
                                    <span class="stat-value" id="globalMaxSnakes">-</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Plus d'√©chelles en une partie :</span>
                                    <span class="stat-value" id="globalMaxLadders">-</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Plus de rebonds en une partie :</span>
                                    <span class="stat-value" id="globalMaxBounces">-</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Moyenne des d√©s (toutes parties) :</span>
                                    <span class="stat-value" id="globalDiceAverage">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                    <button id="closeStats" class="btn-primary">Fermer</button>
                </div>
            </div>
        </div>

        <!-- Modal pour la victoire -->
        <div class="modal" id="winModal">
            <div class="modal-content">
                <h2>üéâ F√©licitations ! üéâ</h2>
                <p id="winMessage">Joueur a gagn√© !</p>
                
                <div class="algorithm-note-blue">
                    Vous √™tes M√©lissa ? Si oui, vous pouvez d'ores et d√©j√† √©crire un post sur LinkedIn bien cringe, pour que tout vos coll√®gues sachent que vous avez gagn√© votre ind√©pendance.
                </div>

                <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                    <button id="playAgain" class="btn-primary">Rejouer</button>
                    <button id="linkedinBtn" class="btn-secondary" onclick="window.open('https://www.linkedin.com', '_blank')">
                        üì± LinkedIn
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="api-client.js"></script>
    <script src="script.js"></script>
</body>
</html>
